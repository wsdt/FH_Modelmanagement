<?php
require_once '../middlewares/AuthenticationMiddleware.php';
verifySession(false);
require_once '../mgr/_MGR_FACTORY.php';

//Load languagepack
$LANG_PACK = _MGR_FACTORY::getMgrLanguage()->getLanguageJson();


?>

<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <!-- Meta, title, CSS, favicons, etc. -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>${translate("Interreg")}</title>

    <!-- Bootstrap -->
    <link href="../vendors/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link href="../vendors/font-awesome/css/font-awesome.min.css" rel="stylesheet">
    <!-- NProgress -->
    <link href="../vendors/nprogress/nprogress.css" rel="stylesheet">
    <!-- Animate.css -->
    <link href="../vendors/animate.css/animate.min.css" rel="stylesheet">

    <!-- Custom Theme Style -->
    <link href="../build/css/custom.min.css" rel="stylesheet">

    <!-- Auth (login/registration procedures) -->
    <script type="text/javascript" src="../../js/modelupload/auth.js"></script>

    <!-- PNotify -->
    <link href="../vendors/pnotify/dist/pnotify.css" rel="stylesheet">
    <link href="../vendors/pnotify/dist/pnotify.buttons.css" rel="stylesheet">
    <link href="../vendors/pnotify/dist/pnotify.nonblock.css" rel="stylesheet">

    <style>
        /* Add lost pwd form as it is not considered in bootstrap */
        .lostpwd_form {
            position: absolute;
            top: 0;
            width: 100%
        }

        .lostpwd_form {
            z-index: 21;
            opacity: 0;
            width: 100%
        }

        .login_form {
            z-index: 22
        }

        #signin:target ~ .login_wrapper .login_form, #lostpwd:target ~ .login_wrapper .lostpwd_form {
            z-index: 22;
            animation-name: fadeInLeft;
            animation-delay: .1s
        }

        #signin:target ~ .login_wrapper .lostpwd_form, #lostpwd:target ~ .login_wrapper .login_form {
            animation-name: fadeOutLeft
        }

        .animate {
            -webkit-animation-duration: .5s;
            -webkit-animation-timing-function: ease;
            -webkit-animation-fill-mode: both;
            -moz-animation-duration: .5s;
            -moz-animation-timing-function: ease;
            -moz-animation-fill-mode: both;
            -o-animation-duration: .5s;
            -o-animation-timing-function: ease;
            -o-animation-fill-mode: both;
            -ms-animation-duration: .5s;
            -ms-animation-timing-function: ease;
            -ms-animation-fill-mode: both;
            animation-duration: .5s;
            animation-timing-function: ease;
            animation-fill-mode: both
        }
    </style>
</head>

<body class="login">
<div>
    <a class="hiddenanchor" id="signup"></a>
    <a class="hiddenanchor" id="lostpwd"></a>
    <a class="hiddenanchor" id="signin"></a>

    <div class="login_wrapper">
        <div class="animate form login_form">
            <section class="login_content">
                <form name="loginForm">
                    <h1>${translate("Login form")}</h1>
                    <div>
                        <input type="text" class="form-control" placeholder="Username" required name="userName"
                               id="userName"/>
                    </div>
                    <div>
                        <input type="password" class="form-control" placeholder="Password" required
                               name="clearPassword" id="clearPassword"/>
                    </div>
                    <div>
                        <input class="btn btn-default submit" type="button" value="Log in" onclick="login(
                                document.getElementById('userName').value, document.getElementById('clearPassword').value);"/>

                        <p class="change_link">
                            <a href="#lostpwd" class="to_register reset_pass">${translate("Lost your password?")}</a>
                        </p>
                    </div>

                    <div class="clearfix"></div>

                    <div class="separator">
                        <p class="change_link">${translate("New to site?")}
                            <a href="#signup" class="to_register"> ${translate("Create Account")} </a>
                        </p>

                        <div class="clearfix"></div>
                        <br/>

                        <div><h1>${translate("Interreg")}</h1>
                            <p>${translate("© 2018 All Rights Reserved. FH Kufstein. Privacy and Terms")}</p></div>
                    </div>
                </form>
            </section>
        </div>

        <div id="register" class="animate form registration_form">
            <section class="login_content">
                <form>
                    <h1>${translate("Create Account")}</h1>
                    <div>
                        <input type="text" id="rUserName" class="form-control" placeholder="Username" required=""/>
                    </div>
                    <div>
                        <input type="email" id="rEMail" class="form-control" placeholder="Email" required=""/>
                    </div>
                    <div>
                        <input type="password" id="rClearPassword" class="form-control" placeholder="Password"
                               required=""/>
                    </div>
                    <div>
                        <input class="btn btn-default submit" type="button" value="Register" onclick="register(
                            document.getElementById('rUserName').value,document.getElementById('rEMail').value,document.getElementById('rClearPassword').value
                        );"/>
                    </div>

                    <div class="clearfix"></div>

                    <div class="separator">
                        <p class="change_link">${translate("Already a member?")}
                            <a href="#signin" class="to_register"> ${translate("Log in")} </a>
                        </p>

                        <div class="clearfix"></div>
                        <br/>

                        <div><h1>${translate("Interreg")}</h1>
                            <p>${translate("© 2018 All Rights Reserved. FH Kufstein. Privacy and Terms")}</p></div>
                    </div>
                </form>
            </section>
        </div>

        <div id="lostpwd" class="animate form lostpwd_form">
            <section class="login_content">
                <form>
                    <h1>${translate("Password recovery")}</h1>
                    <div>
                        <input type="email" id="lEMail" class="form-control" placeholder="Email" required=""/>
                    </div>
                    <div>
                        <input class="btn btn-default submit" type="button" value="Send mail" onclick="lostpassword(
                            document.getElementById('lEMail').value
                        );"/>
                    </div>

                    <div class="clearfix"></div>

                    <div class="separator">
                        <p class="change_link">${translate("Remembering your password?")}
                            <a href="#signin"
                               class="to_register"> ${translate("Log in")} </a>
                        </p>

                        <div class="clearfix"></div>
                        <br/>

                        <div><h1>${translate("Interreg")}</h1>
                            <p>${translate("© 2018 All Rights Reserved. FH Kufstein. Privacy and Terms")}</p></div>
                    </div>
                </form>
            </section>
        </div>
    </div>
</div>

<!-- jQuery -->
<script src="../vendors/jquery/dist/jquery.min.js"></script>
<!-- Bootstrap -->
<script src="../vendors/bootstrap/dist/js/bootstrap.min.js"></script>
<!-- PNotify -->
<script src="../vendors/pnotify/dist/pnotify.js"></script>
<script src="../vendors/pnotify/dist/pnotify.buttons.js"></script>
<script src="../vendors/pnotify/dist/pnotify.nonblock.js"></script>

</body>
</html>
